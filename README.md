# Telegram Bot для Поиска Систем Координат

Бот для Telegram, предоставляющий возможность поиска информации о системах координат с поддержкой транслитерации и нечеткого поиска.

## Основные возможности

- Поиск систем координат по названию
- Поддержка транслитерации (русский/английский)
- Нечеткий поиск с учетом опечаток
- Кэширование результатов поиска
- Сбор метрик использования
- Оптимизированное управление подключениями к базе данных

## Требования

- Python 3.8+
- PostgreSQL 12+
- Telegram Bot Token

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd <repository-directory>
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
venv\Scripts\activate     # Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Скопируйте `.env.example` в `.env` и настройте переменные окружения:
```bash
cp .env.example .env
```

5. Настройте базу данных:
```bash
psql -U postgres -d gis -f setup/init.sql
```

## Запуск

1. Активируйте виртуальное окружение (если еще не активировано)
2. Запустите бота:
```bash
python main.py
```

## Тестирование

Запуск тестов:
```bash
pytest
```

Запуск тестов с отчетом о покрытии:
```bash
pytest --cov=XML_search tests/
```

## Структура проекта

- `XML_search/` - основной код проекта
  - `enhanced/` - оптимизированные компоненты
  - `config/` - конфигурационные файлы
  - `tests/` - тесты
- `setup/` - скрипты инициализации
- `docs/` - документация

## Метрики и мониторинг

Проект включает систему сбора метрик для отслеживания:
- Времени выполнения запросов
- Количества успешных/неуспешных поисков
- Состояния пула соединений
- Использования кэша

## Лицензия

MIT 