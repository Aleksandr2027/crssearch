# –ö–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ XML_search (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 2025-07-16)

> **–í–ê–ñ–ù–û: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞**
> - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `gis` —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostGIS, –æ—Ç–∫—É–¥–∞ –±–æ—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
> - –ü—Ä–æ–µ–∫—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞:
>   - –†–∞–±–æ—Ç–µ —Å XML —Ñ–∞–π–ª–∞–º–∏
>   - –†–∞–±–æ—Ç–µ —Å PRJ —Ñ–∞–π–ª–∞–º–∏
>   - SQL –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostGIS
>   - –í—ã–≤–æ–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞
> - –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ `XML_search` —è–≤–ª—è–µ—Ç—Å—è —É—Å–ª–æ–≤–Ω—ã–º –∏ –Ω–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
> - –ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `gis`
> - **–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ main.py** —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ BotManager –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –∫–ª–∞—Å—Å. –ü—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `XML_SEARCH_CONFIG` –∏–ª–∏ —è–≤–Ω–æ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.
> - **BotManager** —Ç—Ä–µ–±—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `config_path` (–ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É), –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∏–∑ main.py.
> - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .env:** —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω—ã, –ø–∞—Ä–æ–ª–∏, –ø—É—Ç–∏ –∫ –∫–æ–Ω—Ñ–∏–≥–∞–º) –≤ .env-—Ñ–∞–π–ª–µ –∏/–∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. –ü—Ä–∏–º–µ—Ä .env –ø—Ä–∏–≤–µ–¥—ë–Ω –Ω–∏–∂–µ.
> - **–£—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫–ª–∞—Å—Å BotApplication —É–¥–∞–ª—ë–Ω** ‚Äî –∑–∞–ø—É—Å–∫ event loop –∏ run_polling —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ BotManager.

> **–°–¢–ê–¢–£–° –ü–†–û–ï–ö–¢–ê: –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–ß–ò–ô [‚úì]**
> - ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –†–ï–®–ï–ù–û**: –ü–æ–∏—Å–∫ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ("—á–µ—Ä—Ç–æ–≤–æ", "–∫–æ—Ä—ã—Ç–æ") —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100%
> - ‚úÖ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ('4ertovo') –≤ –ø–æ–∏—Å–∫–µ
> - ‚úÖ **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: –î–æ–±–∞–≤–ª–µ–Ω–∞ SQL-–æ—Ç–ª–∞–¥–∫–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ–∏—Å–∫–∞
> - ‚úÖ **–ü–û–õ–ù–û–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–´–ô CIVIL3D –≠–ö–°–ü–û–†–¢**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π XML —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –ë–î
> - ‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç Civil3D**: –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö XML —Ñ–∞–π–ª–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º ({name}_civil3d.xml)
> - ‚úÖ **–ó–ê–ì–õ–£–®–ö–ê EPSG UTM**: –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è SRID 32601-32660 –≤ Civil3D —ç–∫—Å–ø–æ—Ä—Ç–µ
> - ‚úÖ **–û–ì–†–ê–ù–ò–ß–ï–ù–ù–´–ô –ü–û–ò–°–ö**: –ü–æ–∏—Å–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏ SRID –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
> - ‚úÖ **Inline –ø–æ–∏—Å–∫ GSK/MSK —Å–∏—Å—Ç–µ–º**: –ò–°–ü–†–ê–í–õ–ï–ù–ê –ø—Ä–æ–±–ª–µ–º–∞ —Å –ª–∏—à–Ω–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ "–≥—Å–∫11–∑15"
> - ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —É–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
> - ‚úÖ **–ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é (inline)**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–∏—Å–∫–æ–º MSK —Å–∏—Å—Ç–µ–º —á–µ—Ä–µ–∑ @CrsSearchBot
> - ‚úÖ **–¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ UTM —Ñ–æ—Ä–º–∞—Ç–æ–≤, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
> - ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
> - ‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏
> - ‚úÖ **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: –†–µ—à–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ ConversationHandler
> - ‚úÖ **UI/UX**: –û—á–∏—â–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç –ª–∏—à–Ω–∏—Ö –∫–æ–º–∞–Ω–¥
> - ‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç PRJ-—Ñ–∞–π–ª–æ–≤**: –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –°–ö –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö GMv20 –∏ GMv25
> - ‚úÖ **ConversationHandler**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–æ–π "üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
> - ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏**: –†–µ—à–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤–æ–∑–≤—Ä–∞—Ç–æ–º –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

> **–ü–û–°–õ–ï–î–ù–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø (2025-07-16):**
> - ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê**: –ü–æ–∏—Å–∫ "—á–µ—Ä—Ç–æ–≤–æ" —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç "USK_4ertovoKoryto" (SRID: 100934)
> - üéØ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –í–∞—Ä–∏–∞–Ω—Ç—ã —Å —Ü–∏—Ñ—Ä–∞–º–∏ ('4ertovo') —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –∏–¥—É—Ç –ø–µ—Ä–≤—ã–º–∏ –≤ —Å–ø–∏—Å–∫–µ –ø–æ–∏—Å–∫–∞
> - ‚ö° **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –ª–∏–º–∏—Ç –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤**: –£–≤–µ–ª–∏—á–µ–Ω —Å 5 –¥–æ 7 —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
> - üîç **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—Ç–ª–∞–¥–∫–∞**: SQL-–æ—Ç–ª–∞–¥–∫–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º –ø–æ–∏—Å–∫–∞ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
> - ‚úÖ **–í—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç**: "—á–µ—Ä—Ç–æ–≤–æ", "–∫–æ—Ä—ã—Ç–æ", "chert" ‚Üí —É—Å–ø–µ—à–Ω–æ –Ω–∞—Ö–æ–¥—è—Ç USK_4ertovoKoryto
> - üìä **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –ª–æ–≥–∞–º–∏**: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
> - üö´ **–ó–ê–ì–õ–£–®–ö–ê –î–õ–Ø EPSG UTM**: –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ" –¥–ª—è Civil3D —ç–∫—Å–ø–æ—Ä—Ç–∞ SRID 32601-32660
> - üéØ **–û–ì–†–ê–ù–ò–ß–ï–ù–ò–ï –ü–û–ò–°–ö–ê**: –ü–æ–∏—Å–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏ SRID (100000-101500 custom, 32601-32660 UTM —Å–µ–≤–µ—Ä–Ω–æ–≥–æ –ø–æ–ª—É—à–∞—Ä–∏—è)
> - üîß **–§–û–ö–£–°–ò–†–û–í–ê–ù–ù–´–ô –ü–û–ò–°–ö**: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–∏—Å–∫–∞ (inline, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Ç–µ–∫—Å—Ç–æ–≤—ã–π) —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å —Ü–µ–ª–µ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
> - ‚ö° **–£–õ–£–ß–®–ï–ù–ê –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨**: –ú–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏, –±—ã—Å—Ç—Ä–µ–µ SQL –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
> - üÜï **–†–ï–ê–õ–ò–ó–û–í–ê–ù –ü–û–õ–ù–û–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–´–ô CIVIL3D –≠–ö–°–ü–û–†–¢–ï–†**: XML —ç–∫—Å–ø–æ—Ä—Ç —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –ë–î, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ fallback –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏

> **–ü–†–ï–î–´–î–£–©–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø (2025-06-09):**
> - üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω ConversationHandler**: –†–µ—à–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
> - üöÄ **–£–ª—É—á—à–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è**: –ö–Ω–æ–ø–∫–∞ "üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö
> - üîç **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã inline –ø–æ–∏—Å–∫–∞ –±–æ–ª—å—à–µ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
> - üìù **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–º–ø–æ—Ä—Ç–æ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä
> - üéØ **–°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è**: ConversationHandler —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
> - ‚ö° **–ù–û–í–û–ï: –ö–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ inline –ø–æ–∏—Å–∫–µ**: –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ GMv20/GMv25/Civil3D –ø—Ä—è–º–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã @CrsSearchBot –ø–æ–∏—Å–∫–∞
> - üì§ **Inline —ç–∫—Å–ø–æ—Ä—Ç PRJ-—Ñ–∞–π–ª–æ–≤**: –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å PRJ-—Ñ–∞–π–ª—ã –ø—Ä—è–º–æ –∏–∑ inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
> - üîÑ **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω UX**: Inline –ø–æ–∏—Å–∫ —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç —Ç–∞–∫—É—é –∂–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞, –∫–∞–∫ –∏ –ø–æ–∏—Å–∫ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º

> **–ó–ê–ü–£–°–ö –ë–û–¢–ê –í WINDOWS 10 –ß–ï–†–ï–ó POWERSHELL:**
> ```powershell
> cd C:\Users\Aleksandr\.searh\XML_search
> venv\Scripts\activate
> cd C:\Users\Aleksandr\.searh
> python XML_search/main.py
> ```

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_NAME=gis
DB_USER=postgres
DB_PASSWORD=postgres
DB_HOST=localhost
DB_PORT=5432

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ XML
XML_OUTPUT_DIR=output
XML_TEMP_DIR=temp
LOG_DIR=logs
MAX_FILE_SIZE=10485760

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOG_LEVEL=INFO
HTTPS_LOG_LEVEL=WARNING

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
CACHE_ENABLED=True
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏
MAX_WORKERS=4
CHUNK_SIZE=100

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
DEBUG=False
XML_UPDATE_INTERVAL=3600

# Telegram
TELEGRAM_TOKEN=**********:******************
ADMIN_IDS=**********

# –ü–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–æ—Ç—É
ACCESS_PASSWORD=123

# –ü—Ä–æ–∫—Å–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–π –ø—Ä–æ–∫—Å–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
# HTTPS_PROXY=socks5://user:pass@proxy.example.com:1080
# HTTPS_PROXY=http://proxy.example.com:8080

# –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
DB_MIN_CONNECTIONS=2
DB_MAX_CONNECTIONS=10
DB_CONNECTION_TIMEOUT=30.0
DB_IDLE_TIMEOUT=300.0
DB_HEALTH_CHECK_INTERVAL=60

## 1. –ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
.searh/
‚îú‚îÄ‚îÄ XML_search/               
‚îÇ   ‚îú‚îÄ‚îÄ bot/                 # –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ [‚úì]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ [‚úì]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base_handler.py    # –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start_handler.py   # –°—Ç–∞—Ä—Ç–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_handler.py    # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search_handler.py  # –ü–æ–∏—Å–∫ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ export_handler.py  # –≠–∫—Å–ø–æ—Ä—Ç [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ help_handler.py    # –ü–æ–º–æ—â—å [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ error_handler.py   # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menu_handler.py    # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coord_handler.py   # –ü–æ–∏—Å–∫ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coord_export_handler.py  # –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç [‚úì –ù–û–í–´–ô –ö–û–ú–ü–û–ù–ï–ù–¢]
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ exceptions.py      # –ò—Å–∫–ª—é—á–µ–Ω–∏—è [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ states.py      # –°–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot_manager.py # –ú–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards/     # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è Telegram [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ states/        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è [‚úì –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è]
‚îÇ   ‚îú‚îÄ‚îÄ enhanced/           # –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã [‚úì]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db_manager_enhanced.py  # –ù–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ë–î [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db_manager.py          # –û—Å–Ω–æ–≤–Ω–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä –ë–î [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db_pool.py             # –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cache_manager.py       # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ log_manager.py         # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ metrics_manager.py     # –ú–µ—Ç—Ä–∏–∫–∏ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config_enhanced.py     # –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transliterator.py      # –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py          # –ò—Å–∫–ª—é—á–µ–Ω–∏—è [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db_retry.py           # –ü–æ–≤—Ç–æ—Ä—ã –ë–î [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db_health.py          # –ó–¥–æ—Ä–æ–≤—å–µ –ë–î [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db_context.py         # –ö–æ–Ω—Ç–µ–∫—Å—Ç –ë–î [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search/               # –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–∏—Å–∫–∞ [‚úì –ù–û–í–´–ô –ö–û–ú–ü–û–ù–ï–ù–¢]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search_engine.py  # –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ search_utils.py   # –£–ª—É—á—à–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –ø–æ–∏—Å–∫–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è enhanced [‚úì]
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.json     # –ö–æ–Ω—Ñ–∏–≥ –ë–î [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ export/               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ [‚úì]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ export_manager.py  # –ú–µ–Ω–µ–¥–∂–µ—Ä —ç–∫—Å–ø–æ—Ä—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ export_handler.py  # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ export_config.py   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ exporters.py       # –ë–∞–∑–æ–≤—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ exceptions.py      # –ò—Å–∫–ª—é—á–µ–Ω–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ [‚úì]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ templates/         # –®–∞–±–ª–æ–Ω—ã [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ exporters/         # –≠–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ base_exporter.py    # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ base.py             # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å base_exporter.py [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ civil3d_exporter.py # Civil 3D —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ civil3d.py          # –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π XML —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä –¥–ª—è Civil3D [‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù 2025-07-16]
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ gmv20_exporter.py   # GMv20 —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ gmv20.py            # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å gmv20_exporter.py [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ gmv25_exporter.py   # GMv25 —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ gmv25.py            # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å gmv25_exporter.py [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ prj_exporter.py     # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è PRJ-—ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤ [‚úì –ù–û–í–´–ô –ö–û–ú–ü–û–ù–ï–ù–¢]
‚îÇ   ‚îú‚îÄ‚îÄ config/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è [‚úì]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db_config.json         # –ö–æ–Ω—Ñ–∏–≥ –ë–î [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ enhanced_config.json   # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ export_config.json     # –ö–æ–Ω—Ñ–∏–≥ —ç–∫—Å–ø–æ—Ä—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ core/               # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ search/         # –ü–æ–∏—Å–∫ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ search_engine.py   # –ü—Ä–æ–∫—Å–∏ SearchEngine –∫ EnhancedSearchEngine [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ transliterator.py  # –ü—Ä–æ–∫—Å–∏ SearchTransliterator –∫ Transliterator [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ utils.py           # –ü—Ä–æ–∫—Å–∏ SearchUtils –∫ enhanced.search.SearchUtils [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ spravka/            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è [‚úì –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –ù–û –Ø–í–õ–Ø–ï–¢–°–Ø –ù–ï–û–ë–•–û–î–ò–ú–û–ô –°–û–°–¢–ê–í–õ–Ø–Æ–©–ï–ô]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Karta.md              # –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ REFACTORING_REPORT.md # –û—Ç—á–µ—Ç –æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ [‚úì –ù–û–í–´–ô –ö–û–ú–ü–û–ù–ï–ù–¢]
‚îÇ   ‚îú‚îÄ‚îÄ logs/               # –õ–æ–≥–∏ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ metrics/            # –ú–µ—Ç—Ä–∏–∫–∏ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ output/             # –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ temp/               # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ templates/          # –®–∞–±–ª–æ–Ω—ã [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ venv/               # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ crs_search.py      # –ü–æ–∏—Å–∫ –°–ö [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ database.py        # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ errors.py          # –û—à–∏–±–∫–∏ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îú‚îÄ‚îÄ logs/                  # –õ–æ–≥–∏ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îú‚îÄ‚îÄ requirements.txt       # –ö–æ—Ä–Ω–µ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îú‚îÄ‚îÄ setup.py              # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îú‚îÄ‚îÄ pyproject.toml        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
```

## 1.1 –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —É–ª—É—á—à–µ–Ω–∏—è [‚úì]

### 1.1.0 –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–∏—Å–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ [‚úÖ –†–ï–®–ï–ù–û 2025-07-16]
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–∏—Å–∫ "—á–µ—Ä—Ç–æ–≤–æ" –≤–æ–∑–≤—Ä–∞—â–∞–ª 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ "USK_4ertovoKoryto" –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: 
- –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ç–æ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –≤–∞—Ä–∏–∞–Ω—Ç `'4ertovo'`, –Ω–æ —Å–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ `Set` + –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ 5 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Ç–æ–º—É, —á—Ç–æ –∫–ª—é—á–µ–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –Ω–µ –ø–æ–ø–∞–¥–∞–ª –≤ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–∏—Å–∫–∞
- –í–∞—Ä–∏–∞–Ω—Ç `'4ertovo'` –º–æ–≥ –æ–∫–∞–∑–∞—Ç—å—Å—è 6-–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –∏ –±—ã—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–º –∏–∑ –ø–æ–∏—Å–∫–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: `sorted(variants, key=lambda x: (not x[0].isdigit(), x))` - –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å —Ü–∏—Ñ—Ä–∞–º–∏ –∏–¥—É—Ç –ø–µ—Ä–≤—ã–º–∏
- **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞**: —Å 5 –¥–æ 7 —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏
- **SQL-–æ—Ç–ª–∞–¥–∫–∞**: –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ **"—á–µ—Ä—Ç–æ–≤–æ" ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç USK_4ertovoKoryto** (SRID: 100934)
- ‚úÖ **"–∫–æ—Ä—ã—Ç–æ" ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç USK_4ertovoKoryto** (–ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)
- ‚úÖ **"chert" ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç USK_4ertovoKoryto** (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ **–ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞**: –≤–∞–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–∑ –ª–æ–≥–æ–≤ (2025-07-16)**:
```
[CYRILLIC DEBUG] –î–æ–±–∞–≤–ª–µ–Ω —Ü–∏—Ñ—Ä–æ–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 0: '4ertovo'
[4ERTOVO DEBUG] –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞: '4ertovo'
[4ERTOVO DEBUG] –ü–æ–ª—É—á–µ–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: 2
EnhancedSearchEngine –≤–µ—Ä–Ω—É–ª 1 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –∏–Ω–ª–∞–π–Ω-–∑–∞–ø—Ä–æ—Å–∞: '—á–µ—Ä—Ç–æ–≤–æ'
```

### 1.1.1 –ù–û–í–û–ï: –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π XML —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä –¥–ª—è Civil3D [‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û 2025-07-16]
**–ü—Ä–æ–±–ª–µ–º–∞**: Civil3D —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –∑–∞–≥–ª—É—à–∫–∞ —Å –≤—ã–≤–æ–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏—è "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ".
**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: 
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ XML —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–ª—è Civil3D
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –ë–î
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ü–∏–π –∏ –¥–∞—Ç—É–º–æ–≤
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é —Ñ–∞–π–ª–æ–≤

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π XML —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏:

**1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostGIS**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `custom_geom`
- –ü–æ–∏—Å–∫ —ç–ª–ª–∏–ø—Å–æ–∏–¥–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ `ellps_all`
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞—Ç—É–º–æ–≤ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `datum_all`
- Fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —ç–ª–ª–∏–ø—Å–æ–∏–¥–æ–≤ (WGS84, Bessel, GRS80)

**2. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**:
- –ü–∞—Ä—Å–∏–Ω–≥ proj4 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –∏–∑ WKT –≥–µ–æ–º–µ—Ç—Ä–∏–∏
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–∞—Ä–∫—Å–µ–∫—É–Ω–¥—ã ‚Üí –≥—Ä–∞–¥—É—Å—ã, ppm ‚Üí unity)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Seven Parameter Transformation –∫ WGS84

**3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ XML –¥–ª—è Civil3D**:
```xml
<Dictionary xmlns="http://www.osgeo.org/mapguide/coordinatesystem" version="1.0">
  <ProjectedCoordinateSystem id="{name}-{srid}">
    <Name>{name}</Name>
    <Description>{–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –ø–æ–ª–µ info}</Description>
    <DomainOfValidity><!-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã --></DomainOfValidity>
    <Axis uom="Meter"><!-- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã–µ –æ—Å–∏ E, N --></Axis>
    <Conversion><!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–µ–∫—Ü–∏–∏ Gauss Kruger --></Conversion>
  </ProjectedCoordinateSystem>
  <GeodeticDatum><!-- –ü–æ–ª–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞—Ç—É–º–∞ --></GeodeticDatum>
  <Ellipsoid><!-- –î–∞–Ω–Ω—ã–µ —ç–ª–ª–∏–ø—Å–æ–∏–¥–∞ –∏–∑ –ë–î --></Ellipsoid>
  <Transformation><!-- Seven Parameter –∫ WGS84 --></Transformation>
</Dictionary>
```

**4. –£–º–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**:
- –§–∞–π–ª—ã –∏–º–µ–Ω—É—é—Ç—Å—è –∫–∞–∫ `{name}_civil3d.xml` –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—è `name` –∏–∑ `custom_geom`
- –û—á–∏—Å—Ç–∫–∞ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã—Ö XML —Å–∏–º–≤–æ–ª–æ–≤
- –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é `unidecode`
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ XML —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**5. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**:
- Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î
- Fallback –∫ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É XML –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –í–æ–∑–≤—Ä–∞—Ç –∑–∞–≥–ª—É—à–∫–∏ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º —Å–±–æ–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- ‚úÖ **–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç**: Civil3D —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ XML —Ñ–∞–π–ª—ã
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –ë–î –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ**: `USK_4ertovoKoryto_civil3d.xml`, `MSK50z2_civil3d.xml`
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: XML —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º Civil3D/MapGuide
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ –ë–î
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø—Ä–∏ –ª—é–±—ã—Ö –æ—à–∏–±–∫–∞—Ö

### 1.1.2 –ù–û–í–û–ï: –î–æ–±–∞–≤–ª–µ–Ω —ç–∫—Å–ø–æ—Ä—Ç PRJ-—Ñ–∞–π–ª–æ–≤ [‚úì –†–ï–®–ï–ù–û 2025-06-02]
**–ü—Ä–æ–±–ª–µ–º–∞**: –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞ —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ —à–∏—Ä–æ—Ç–µ/–¥–æ–ª–≥–æ—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö GMv20 –∏ GMv25.
**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: 
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ PRJ-—Ñ–∞–π–ª–æ–≤
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- –°–æ–∑–¥–∞–Ω –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `PRJExporter` –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ PRJ-—Ñ–∞–π–ª–æ–≤
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã:
  - `GMv20Exporter` - —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä –¥–ª—è Global Mapper v20
  - `GMv25Exporter` - —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä –¥–ª—è Global Mapper v25
  - `Civil3DExporter` (–∑–∞–≥–ª—É—à–∫–∞) - –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"
- –°–æ–∑–¥–∞–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `CoordExportHandler` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ PRJ-—Ñ–∞–π–ª–æ–≤ —Å –∏–º–µ–Ω–µ–º:
  - `UTM_zone_xxN.prj` –¥–ª—è SRID –æ—Ç 32601 –¥–æ 32660
  - `srtext.prj` –¥–ª—è —Å–∏—Å—Ç–µ–º —Å auth_name=custom
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ PRJ-—Ñ–∞–π–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –≤–∏–¥–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- –î–ª—è –∫–∞–∂–¥–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É GMv20 –∏–ª–∏ GMv25 –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è PRJ-—Ñ–∞–π–ª
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É Civil3D –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"
- –£–ª—É—á—à–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

### 1.1.3 –ù–û–í–û–ï: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è [‚úì –†–ï–®–ï–ù–û 2025-06-01]
**–ü—Ä–æ–±–ª–µ–º–∞**: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ `core/search` –∏ `enhanced` —Å–æ–∑–¥–∞–≤–∞–ª–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –º–æ–≥–ª–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è–º –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.
**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: 
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
- –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- –°–æ–∑–¥–∞–Ω –ø–æ–¥–º–æ–¥—É–ª—å `enhanced/search/` —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–ª–∞—Å—Å—ã `EnhancedSearchEngine` –∏ —É–ª—É—á—à–µ–Ω–Ω—ã–π `SearchUtils`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `core/search/` –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ –ø—Ä–æ–∫—Å–∏-–∫–ª–∞—Å—Å—ã –∫ —É–ª—É—á—à–µ–Ω–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –≤ `__init__.py` —Ñ–∞–π–ª–∞—Ö –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –î–æ–±–∞–≤–ª–µ–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –≤ `spravka/REFACTORING_REPORT.md`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
- –£–ª—É—á—à–µ–Ω–∞ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å: –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ `enhanced` –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è `core`
- –ü–æ–≤—ã—à–µ–Ω–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å: –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—É—é –∫–æ–¥–æ–≤—É—é –±–∞–∑—É

### 1.1.4 –ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é (inline search) [‚úì]
**–ü—Ä–æ–±–ª–µ–º–∞**: Inline –ø–æ–∏—Å–∫ `@CrsSearchBot vcr` –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª MSK —Å–∏—Å—Ç–µ–º—ã, –ø–æ–∫–∞–∑—ã–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
**–†–µ—à–µ–Ω–∏–µ**: 
- –ò–∑–º–µ–Ω–µ–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö —Å `spatial_ref_sys` –Ω–∞ `custom_geom` —Ç–∞–±–ª–∏—Ü—É
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã–º –ø–æ–∏—Å–∫–æ–º
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ UTM —Å–∏—Å—Ç–µ–º –∏–∑ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

### 1.1.5 –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏ [‚úì]
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤–≤–æ–¥–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.
**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏: `—å—ã–ª‚Üí–º—Å–∫`, `–º—ã–ª‚Üívcr`, `–≥–µ–º‚Üíutm`
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–æ–Ω–Ω—ã—Ö –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–π: `z‚Üî–∑‚Üî—è`, `p‚Üî–∑‚Üî—Ä`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è zone: `—è—â—Ç—É‚Üízone`, `—è—â—Ç‚Üízon`, `—è—â‚Üízo`
- –°–æ–∑–¥–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ UTM —Ñ–æ—Ä–º–∞—Ç–æ–≤: `UTM zone 20` ‚Üí `UTM +zone=20`

### 1.1.6 –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ [‚úì]
**–ü—Ä–æ–±–ª–µ–º–∞**: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–≤—è–∑—å –º–µ–∂–¥—É `auth_handler` –∏ `menu_handler`

### 1.1.7 ConversationHandler –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ [‚úì –†–ï–®–ï–ù–û 2025-06-09]
**–ü—Ä–æ–±–ª–µ–º–∞**: Inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, –∫–Ω–æ–ø–∫–∞ "üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" –≤—ã–∑—ã–≤–∞–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞".
**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: 
- Inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Å–æ–æ–±—â–µ–Ω–∏—è —Å "üî∑ SRID:...") –ø–æ–ø–∞–¥–∞–ª–∏ –≤ `handle_unknown_command`
- –ò—Å–ø–æ—Ä—á–µ–Ω–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `BUTTON_MENU = 'üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é'` –≤ `MainKeyboard`
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ConversationHandler –≤ `bot_manager.py`
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `SEARCH_INPUT`

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `MainKeyboard.BUTTON_MENU = 'üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'`
- –î–æ–±–∞–≤–ª–µ–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `handle_inline_result_message()` —Å regex —Ñ–∏–ª—å—Ç—Ä–æ–º `^üî∑ SRID:`
- –†–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω ConversationHandler: —É–¥–∞–ª–µ–Ω –≤–ª–æ–∂–µ–Ω–Ω—ã–π handler –∏–∑ `SearchHandler.get_handler()`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `SEARCH_INPUT`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ `keyboards/__init__.py` –∏ `keyboard_utils.py`
- –û–±–Ω–æ–≤–ª–µ–Ω –æ—Å–Ω–æ–≤–Ω–æ–π ConversationHandler –≤ `bot_manager.py` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å inline —ç–∫—Å–ø–æ—Ä—Ç–∞ (2025-06-09)**:
- –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `_get_export_keyboard_for_srid()` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–Ω–æ–ø–æ–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
- –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `handle_inline_export_callback()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–∑ inline —Ä–µ–∂–∏–º–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç–∫—Å–ø–æ—Ä—Ç PRJ-—Ñ–∞–π–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤ GMv20/GMv25
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CallbackQueryHandler –≤ bot_manager.py (pattern: `^inline_export_`)
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã —Ñ–æ—Ä–º–∞—Ç—ã callback_data: `inline_export_{type}_{format}_{srid}`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤: `UTM_zone_XXN.prj` –¥–ª—è UTM, `SRID_XXX_{format}.prj` –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- Inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—Ç–∞
- –ö–Ω–æ–ø–∫–∞ "üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö –±–µ–∑ –æ—à–∏–±–æ–∫
- –ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–æ–∏—Å–∫–∞ –¥–æ —è–≤–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞" –ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (2025-06-09)**:
- ‚úÖ –ü–æ–∏—Å–∫ –°–ö –ø–æ Lat/Lon: —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (55.7558$37.6173, 55 45 20.88;37 37 2.28)
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç PRJ-—Ñ–∞–π–ª–æ–≤: GMv20 –∏ GMv25 —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç (UTM_zone_37N.prj, SK95z7_v25.prj)
- ‚úÖ Inline –ø–æ–∏—Å–∫: @CrsSearchBot –Ω–∞—Ö–æ–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã (msk, msk5, msk50, vuun, –º–≥–≥—Ç)
- ‚úÖ **–ù–û–í–û–ï: Inline —ç–∫—Å–ø–æ—Ä—Ç**: –ö–Ω–æ–ø–∫–∏ GMv20/GMv25/Civil3D –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
- ‚úÖ **–ù–û–í–û–ï: PRJ-—Ñ–∞–π–ª—ã –∏–∑ inline**: –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ –∏–∑ @CrsSearchBot —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è: –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –ø–∞—Ä–æ–ª—å 123 –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–∞: –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã

## 1.2 –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: Inline —ç–∫—Å–ø–æ—Ä—Ç PRJ-—Ñ–∞–π–ª–æ–≤ [‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û 2025-06-09]

### 1.2.1 –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
**–§—É–Ω–∫—Ü–∏—è**: –ö–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ GMv20/GMv25/Civil3D —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã –ø—Ä—è–º–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö inline –ø–æ–∏—Å–∫–∞ —á–µ—Ä–µ–∑ @CrsSearchBot.

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
1. –í –ª—é–±–æ–º —á–∞—Ç–µ Telegram –≤–≤–µ–¥–∏—Ç–µ `@CrsSearchBot msk` (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å)
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
3. –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ —á–∞—Ç –ø–æ—è–≤—è—Ç—Å—è –∫–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞: üìÑ Civil3D, üìã GMv20, üìã GMv25
4. –ù–∞–∂–º–∏—Ç–µ –Ω—É–∂–Ω—É—é –∫–Ω–æ–ø–∫—É –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ PRJ-—Ñ–∞–π–ª–∞
5. –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –≤ —á–∞—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º

**–§–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞**:
- **üìã GMv20**: PRJ-—Ñ–∞–π–ª –¥–ª—è Global Mapper v20+
- **üìã GMv25**: PRJ-—Ñ–∞–π–ª –¥–ª—è Global Mapper v25+  
- **üìÑ Civil3D**: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**:
- UTM —Å–∏—Å—Ç–µ–º—ã: `UTM_zone_37N.prj`
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã: `SRID_32637_GMV20.prj`

### 1.2.2 –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚ö° **–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø**: –≠–∫—Å–ø–æ—Ä—Ç –ø—Ä—è–º–æ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –±–µ–∑ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –º–µ–Ω—é
- üîÑ **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ UX**: –¢–∞–∫–∏–µ –∂–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∫–∞–∫ –≤ –ø–æ–∏—Å–∫–µ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- üì± **–£–¥–æ–±—Å—Ç–≤–æ**: –†–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–º —á–∞—Ç–µ —á–µ—Ä–µ–∑ inline —Ä–µ–∂–∏–º
- üéØ **–¢–æ—á–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

### 1.2.3 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ö–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ `InlineKeyboardMarkup` –∫–∞–∂–¥–æ–≥–æ inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- Callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `handle_inline_export_callback()` –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤–Ω–µ ConversationHandler
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω `^inline_export_` –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ callback'–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ GMv20/GMv25 —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏

**–ò—Ç–æ–≥**: –ë–æ—Ç —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç PRJ-—Ñ–∞–π–ª–æ–≤ –∫–∞–∫ –≤ —Ä–µ–∂–∏–º–µ –ø–æ–∏—Å–∫–∞ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º, —Ç–∞–∫ –∏ –≤ inline –ø–æ–∏—Å–∫–µ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –∏ —É–¥–æ–±–µ–Ω.