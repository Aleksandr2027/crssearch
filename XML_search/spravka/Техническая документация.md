# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ XML_search

## 1. –í–≤–µ–¥–µ–Ω–∏–µ

**XML_search** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å PostgreSQL/PostGIS, –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–±–æ—Ç—ã –≤ Docker, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –º–µ—Ç—Ä–∏–∫, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ best practices Python-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, DevOps –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**: ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–ß–ò–ô** (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 2025-06-09)

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üîç **–ü–æ–∏—Å–∫ —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**: –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é (inline) –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- üåê **–¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è**: –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–π/–∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –∏ UTM —Ñ–æ—Ä–º–∞—Ç–æ–≤
- üîê **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
- üìä **–ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –≥—Ä–∞–¥—É—Å–æ–≤, DMS –∏ –≥—Ä–∞–¥—É—Å—ã-–º–∏–Ω—É—Ç—ã
- üéØ **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: –±–µ—Å—à–æ–≤–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ –ø–æ–∏—Å–∫–∞
- üì§ **–≠–∫—Å–ø–æ—Ä—Ç**: –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏ PRJ-—Ñ–∞–π–ª—ã
- üîß **ConversationHandler**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
- ‚úÖ **–ù–û–í–û–ï**: ConversationHandler –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ (2025-06-09)
- ‚úÖ **–ù–û–í–û–ï**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è (2025-06-09)
- ‚úÖ **–ù–û–í–û–ï**: –ü—Ä–æ–±–ª–µ–º–∞ –ª–∏—à–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ inline –ø–æ–∏—Å–∫–∞ (2025-05-29)
- ‚úÖ Inline –ø–æ–∏—Å–∫ MSK —Å–∏—Å—Ç–µ–º —á–µ—Ä–µ–∑ @CrsSearchBot
- ‚úÖ UTM —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è (UTM zone 20 ‚Üí UTM +zone=20)
- ‚úÖ –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ (—å—ã–ª‚Üí–º—Å–∫, –≥–µ–º‚Üíutm, —è—â—Ç—É‚Üízone)
- ‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏
- ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π ConversationHandler
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ UI –æ—Ç –∏–∑–±—ã—Ç–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç PRJ-—Ñ–∞–π–ª–æ–≤ –¥–ª—è GMv20 –∏ GMv25

### –ó–∞–ø—É—Å–∫ –≤ Windows 10:
```powershell
cd C:\Users\Aleksandr\.searh\XML_search
venv\Scripts\activate
cd C:\Users\Aleksandr\.searh
python XML_search/main.py
```

## 2. –û–±–∑–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

- **XML_search/** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞
  - **bot/** ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥, —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, —É—Ç–∏–ª–∏—Ç—ã, —Ç–µ—Å—Ç—ã
  - **enhanced/** ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä—ã –ë–î, –∫—ç—à–∞, –º–µ—Ç—Ä–∏–∫, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —ç–∫—Å–ø–æ—Ä—Ç, —à–∞–±–ª–æ–Ω—ã
  - **config/** ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ (–ë–î, —ç–∫—Å–ø–æ—Ä—Ç, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
  - **spravka/** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–∏–º–µ—Ä—ã .env
  - **tests/** ‚Äî —Ç–µ—Å—Ç—ã (unit, integration)
  - **logs/** ‚Äî –ª–æ–≥–∏
- **main.py** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ BotManager
- **requirements.txt, pyproject.toml, setup.py** ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–±–æ—Ä–∫–∞

## 3. –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –º–æ–¥—É–ª–µ–π

### 3.1 –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (bot/handlers) [‚úì –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- **base_handler.py** ‚Äî –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ–±—â–∏–µ –º–µ—Ç–æ–¥—ã (–ë–î, –∫—ç—à, –º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)
- **menu_handler.py** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é, –∫–æ–º–∞–Ω–¥ /start, /menu, /help
- **auth_handler.py** ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, FSM –¥–ª—è –ø–∞—Ä–æ–ª—è, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- **search_handler.py** ‚Äî –ø–æ–∏—Å–∫ —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, FSM, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä—ã
- **export_handler.py** ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã, FSM, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å ExportManager
- **coord_handler.py** ‚Äî –ø–æ–∏—Å–∫ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ UTM, –≤–∞–ª–∏–¥–∞—Ü–∏—è
- **error_handler.py** ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
- **start_handler.py** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ /start, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏
- **help_handler.py** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /help
- **exceptions.py** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### 3.2 –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (bot/keyboards) [‚úì –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- **base.py** ‚Äî –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä (inline/reply)
- **main_keyboard.py** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
- **inline_keyboard.py** ‚Äî inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞
- **pagination.py** ‚Äî –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- **search.py** ‚Äî –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞
- **export.py** ‚Äî –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞

### 3.3 –£—Ç–∏–ª–∏—Ç—ã (bot/utils) [‚úì –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- **validation_utils.py** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è SRID, –Ω–∞–∑–≤–∞–Ω–∏–π, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, —ç–∫—Å–ø–æ—Ä—Ç–∞
- **format_utils.py** ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—à–∏–±–æ–∫, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- **coord_utils.py** ‚Äî –ø–∞—Ä—Å–∏–Ω–≥, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- **log_utils.py** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç –∑–∞–º–µ–Ω—ã MetricsCollector –Ω–∞ MetricsManager)
- **keyboard_utils.py** ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä

### 3.4 –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (enhanced/) [‚úì –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- **config_enhanced.py** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–æ–≤
- **db_manager_enhanced.py** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
- **db_manager.py** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **db_pool.py** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **db_pool_enhanced.py** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π [? –î–£–ë–õ–ò–†–£–ï–¢ db_pool.py]
- **metrics_manager.py** ‚Äî —Å–±–æ—Ä –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- **log_manager.py** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **cache_manager.py** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫—ç—à —Å TTL
- **transliterator.py** ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ UTM
- **db_retry.py** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–æ–≤ –¥–ª—è –ë–î
- **db_health.py** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –ë–î
- **db_context.py** ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **exceptions.py** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### 3.5 –≠–∫—Å–ø–æ—Ä—Ç –∏ —à–∞–±–ª–æ–Ω—ã (enhanced/export/) [‚úì –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- **export_manager.py** ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä —ç–∫—Å–ø–æ—Ä—Ç–∞, –≤—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –º–µ—Ç—Ä–∏–∫–∏
- **export_handler.py** ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞
- **export_config.py** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞
- **exporters.py** ‚Äî –±–∞–∑–æ–≤—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã
- **exceptions.py** ‚Äî –∏—Å–∫–ª—é—á–µ–Ω–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞
- **exporters/** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤
  - **base_exporter.py** ‚Äî –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
  - **base.py** ‚Äî –¥—É–±–ª–∏—Ä—É–µ—Ç base_exporter.py [? –î–£–ë–õ–ò–†–£–ï–¢]
  - **civil3d_exporter.py** ‚Äî Civil3D —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
  - **civil3d.py** ‚Äî –¥—É–±–ª–∏—Ä—É–µ—Ç civil3d_exporter.py [? –î–£–ë–õ–ò–†–£–ï–¢]
  - **gmv20_exporter.py** ‚Äî GMv20 —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
  - **gmv20.py** ‚Äî –¥—É–±–ª–∏—Ä—É–µ—Ç gmv20_exporter.py [? –î–£–ë–õ–ò–†–£–ï–¢]
  - **gmv25_exporter.py** ‚Äî GMv25 —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
  - **gmv25.py** ‚Äî –¥—É–±–ª–∏—Ä—É–µ—Ç gmv25_exporter.py [? –î–£–ë–õ–ò–†–£–ï–¢]
- **templates/** ‚Äî —à–∞–±–ª–æ–Ω—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ (JSON, XML) [‚úì –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- **config/** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø]
- **handlers/** ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ [? –ù–ï–Ø–°–ù–û]

### 3.6 –ö–æ–Ω—Ñ–∏–≥–∏ (config/, enhanced/config/) [‚úì –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- **config/db_config.json** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥ –ë–î
- **config/enhanced_config.json** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
- **config/export_config.json** ‚Äî –∫–æ–Ω—Ñ–∏–≥ —ç–∫—Å–ø–æ—Ä—Ç–∞
- **enhanced/config/database.json** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ –ë–î

### 3.7 –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ [‚úì –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- **main.py** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ BotManager
- **config.py** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **crs_search.py** ‚Äî –ø–æ–∏—Å–∫ —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- **database.py** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **errors.py** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **__init__.py** ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞

### 3.8 –ù–µ—è—Å–Ω—ã–µ/–¥—É–±–ª–∏—Ä—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã [? –¢–†–ï–ë–£–Æ–¢ –ê–ù–ê–õ–ò–ó–ê]
- **bot/migration.py** ‚Äî –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ—è—Å–Ω–æ
- **bot/states/** ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **enhanced/new/** ‚Äî –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **enhanced/crs_search.py** ‚Äî –¥—É–±–ª–∏—Ä—É–µ—Ç –ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–∏—Å–∫?
- **core/search/** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏?
- **config/** (–∫–æ—Ä–Ω–µ–≤–∞—è) ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **metrics/** (–∫–æ—Ä–Ω–µ–≤–∞—è) ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### 3.9 –¢–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è [- –ù–ï –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø –í –ü–†–û–î–ê–ö–®–ï–ù–ï]
- **bot/tests/** ‚Äî —Ç–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **tests/** ‚Äî –æ–±—â–∏–µ —Ç–µ—Å—Ç—ã
- **bot/examples/** ‚Äî –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **spravka/** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **backups/** ‚Äî —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

### 3.10 –ö–æ—Ä–Ω–µ–≤—ã–µ —Ñ–∞–π–ª—ã [‚úì –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- **requirements.txt** ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
- **setup.py** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞
- **pyproject.toml** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **README.md** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## 3.1 –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### 3.1.1 –ù–û–í–û–ï: –ü—Ä–æ–±–ª–µ–º–∞ –ª–∏—à–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ inline –ø–æ–∏—Å–∫–∞ [‚úì –†–ï–®–ï–ù–û 2025-05-29]
**–§–∞–π–ª—ã**: `search_handler.py` (–º–µ—Ç–æ–¥ `_filter_problematic_variants`, —Å—Ç—Ä–æ–∫–∏ 585+), `transliterator.py`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ inline –ø–æ–∏—Å–∫–µ "–≥—Å–∫11–∑15" –≤–æ–∑–≤—Ä–∞—â–∞–ª–æ—Å—å ~96 –ª–∏—à–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤–º–µ—Å—Ç–æ 2 —Ç–æ—á–Ω—ã—Ö.

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**:
- –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ "–≥—Å–∫11–∑15" –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª 50 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ:
  - 'gsk11' (–ø–æ–∑–∏—Ü–∏–∏ #7, #10)
  - 'GSK11' (–ø–æ–∑–∏—Ü–∏—è #22) 
  - '–≥—Å–∫11' (–ø–æ–∑–∏—Ü–∏–∏ #8, #16)
  - '–ì–°–ö11' (–ø–æ–∑–∏—Ü–∏–∏ #13, #21)
- SQL –∑–∞–ø—Ä–æ—Å—ã `ILIKE '%GSK11%'` –Ω–∞—Ö–æ–¥–∏–ª–∏ –í–°–ï —Å–∏—Å—Ç–µ–º—ã GSK11 (z1-z32 + z1.3-z64.3)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: 96 –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π + 2 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö = 98 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
1. **–°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `_filter_problematic_variants()`**:
   ```python
   def _filter_problematic_variants(self, original_query: str, variants: List[str]) -> List[str]:
       # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∑–æ–Ω–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ
       if re.search(r'[z–∑]\d+', original_query, re.IGNORECASE):
           # –°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –±–∞–∑–æ–≤—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
           problematic_bases = {'msk', 'gsk', 'gsk11', 'sk42', 'sk95', 'utm', '–º—Å–∫', '–≥—Å–∫', '–≥—Å–∫11', '—Å–∫42', '—Å–∫95', '—É—Ç–º'}
           # –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –ø—Ä–æ–±–ª–µ–º–Ω—ã–º–∏ –±–∞–∑–∞–º–∏
           filtered = [v for v in variants if v.lower() not in problematic_bases]
           return filtered
       return variants  # –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   ```

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `handle_inline()`**:
   ```python
   # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏
   variants = self.transliterator.generate_variants(query)
   
   # –ù–û–í–û–ï: –§–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è –∑–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   filtered_variants = self._filter_problematic_variants(query, variants)
   
   # –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
   ```

3. **–£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**:
   - –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∑–æ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ —á–µ—Ä–µ–∑ regex `r'[z–∑]\d+'`
   - –§–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–æ–Ω—ã –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Ç–∏–ø–∞ "–≥—Å–∫11"

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- **–î–æ —Ñ–∏–∫—Å–∞—Ü–∏–∏**: "–≥—Å–∫11–∑15" ‚Üí 98 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (96 –ª–æ–∂–Ω—ã—Ö + 2 —Ç–æ—á–Ω—ã—Ö)
- **–ü–æ—Å–ª–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏**: "–≥—Å–∫11–∑15" ‚Üí 2 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (—Ç–æ–ª—å–∫–æ GSK11z15, GSK11z15.3)
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –°–æ–∫—Ä–∞—â–µ–Ω–æ ~48 SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ–¥–∏–Ω –ø–æ–∏—Å–∫
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ó–∞–ø—Ä–æ—Å "–≥—Å–∫11" –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ GSK11 —Å–∏—Å—Ç–µ–º—ã

### 3.1.2 –ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é (inline search)
**–§–∞–π–ª—ã**: `search_handler.py`, `transliterator.py`
**–ü—Ä–æ–±–ª–µ–º–∞**: Inline –ø–æ–∏—Å–∫ `@CrsSearchBot vcr` –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª MSK —Å–∏—Å—Ç–µ–º—ã –∏–∑-–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –ë–î.
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- –ò–∑–º–µ–Ω–µ–Ω SQL-–∑–∞–ø—Ä–æ—Å –≤ –º–µ—Ç–æ–¥–µ `_perform_search` —Å —Ç–∞–±–ª–∏—Ü—ã `spatial_ref_sys` –Ω–∞ `custom_geom`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ UTM —Å–∏—Å—Ç–µ–º –∏–∑ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü (SRID 32601-32660)
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã–º –ø–æ–∏—Å–∫–æ–º
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ `handle_filter_input`

### 3.1.3 –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏ UTM
**–§–∞–π–ª—ã**: `transliterator.py`, `test_utm_transliteration.py`
**–ü—Ä–æ–±–ª–µ–º–∞**: UTM —Å–∏—Å—Ç–µ–º—ã –≤ –ë–î —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ `UTM +zone=20`, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–≤–æ–¥—è—Ç `UTM zone 20`.
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ–¥–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `process_utm_patterns` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤: `UTM zone 20`, `UTM20`, `UTM20N`, `–≥–µ–º —è—â—Ç—É 20`
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤: `UTM +zone=20`, `UTM zone 20`, —Å –ø–æ–ª—É—à–∞—Ä–∏—è–º–∏ N/S

### 3.1.4 –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏
**–§–∞–π–ª—ã**: `transliterator.py`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–≤–æ–¥—è—Ç –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–∞–ø–ø–∏–Ω–≥–∏: `—å—ã–ª‚Üí–º—Å–∫`, `–º—ã–ª‚Üívcr`, `–≥–µ–º‚Üíutm`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–æ–Ω–Ω—ã—Ö –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–π: `—è—â—Ç—É‚Üízone`, `—è—â—Ç‚Üízon`, `—è—â‚Üízo`
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–º–µ–Ω

### 3.1.5 –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
**–§–∞–π–ª—ã**: `auth_handler.py`, `bot_manager.py`
**–ü—Ä–æ–±–ª–µ–º–∞**: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–≤—è–∑—å `auth_handler.menu_handler = menu_handler` –≤ `_init_handlers`
- –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ CommandHandler –¥–ª—è `/start` –∏ `/help`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_handle_successful_auth` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –º–µ–Ω—é

### 3.1.6 –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
**–§–∞–π–ª—ã**: `coord_utils.py`, `test_coord_fix.py`
**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ `match() missing 1 required positional argument` –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è regex.
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤—Å–µ—Ö regex –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ `__init__` –∫–ª–∞—Å—Å–∞ `CoordinateParser`
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω `degrees_minutes` –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∞ "55 45.348"
- –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `_degrees_minutes_to_decimal` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã `match()` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏

### 3.1.7 –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
**–§–∞–π–ª—ã**: `bot_manager.py`, `search_handler.py`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ –ø–æ–∏—Å–∫–∞.
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `States.SEARCH_RESULTS` –≤ ConversationHandler
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –º–µ–Ω—é –≤ `handle_filter_input`
- –î–æ–±–∞–≤–ª–µ–Ω—ã `await` –¥–ª—è –≤—Å–µ—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ `log_access`
- –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é

### 3.1.8 ConversationHandler –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ [‚úì –†–ï–®–ï–ù–û 2025-06-09]
**–§–∞–π–ª—ã**: `search_handler.py`, `bot_manager.py`, `main_keyboard.py`, `keyboard_utils.py`, `keyboards/__init__.py`
**–ü—Ä–æ–±–ª–µ–º–∞**: Inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, –∫–Ω–æ–ø–∫–∞ "üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" –≤—ã–∑—ã–≤–∞–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞".
**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: 
- Inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Å–æ–æ–±—â–µ–Ω–∏—è —Å "üî∑ SRID:...") –ø–æ–ø–∞–¥–∞–ª–∏ –≤ `handle_unknown_command`
- –ò—Å–ø–æ—Ä—á–µ–Ω–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `BUTTON_MENU = 'ÔøΩÔøΩ –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é'` –≤ `MainKeyboard`
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ConversationHandler –≤ `bot_manager.py`
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `SEARCH_INPUT`

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –∫–Ω–æ–ø–∫–∏**:
   ```python
   # –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–∏—Å–ø–æ—Ä—á–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã)
   BUTTON_MENU = 'ÔøΩÔøΩ –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é'
   
   # –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   BUTTON_MENU = 'üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'
   ```

2. **–î–æ–±–∞–≤–ª–µ–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**:
   ```python
   async def handle_inline_result_message(self, update: Update, context: ContextTypes.DEFAULT_TYPE) -> States:
       """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è"""
       if update.message and update.message.text:
           text = update.message.text.strip()
           if text.startswith("üî∑ SRID:"):
               user_id = update.effective_user.id
               self._logger.info(f"–ò–≥–Ω–æ—Ä–∏—Ä—É—é inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è user_id={user_id}: {text[:50]}...")
               return States.SEARCH_INPUT  # –û—Å—Ç–∞–µ–º—Å—è –≤ —Ç–æ–º –∂–µ —Å–æ—Å—Ç–æ—è–Ω–∏–∏
       return States.SEARCH_INPUT
   ```

3. **–†–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω ConversationHandler –≤ bot_manager.py**:
   ```python
   states={
       States.SEARCH_INPUT: [
           MessageHandler(filters.Text(MainKeyboard.BUTTON_MENU), self.menu_handler.handle_menu_command),
           MessageHandler(filters.Regex(r"^üî∑ SRID:"), self.search_handler.handle_inline_result_message),
           MessageHandler(filters.TEXT & ~filters.COMMAND, self.search_handler.handle_filter_input),
       ],
       # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   }
   ```

4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç**:
   - –£–¥–∞–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `BUTTON_MENU` –∏–∑ `keyboards/__init__.py`
   - –û–±–Ω–æ–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –≤ `keyboard_utils.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `MainKeyboard.BUTTON_MENU`
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ `search_handler.py`: `States.SEARCH_MENU` ‚Üí `States.SEARCH_INPUT`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- Inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—Ç–∞
- –ö–Ω–æ–ø–∫–∞ "üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö –±–µ–∑ –æ—à–∏–±–æ–∫
- –ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–æ–∏—Å–∫–∞ –¥–æ —è–≤–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞" –ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (2025-06-09)**:
- ‚úÖ –ü–æ–∏—Å–∫ –°–ö –ø–æ Lat/Lon: —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (55.7558$37.6173, 55 45 20.88;37 37 2.28)
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç PRJ-—Ñ–∞–π–ª–æ–≤: GMv20 –∏ GMv25 —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç (UTM_zone_37N.prj, SK95z7_v25.prj)
- ‚úÖ Inline –ø–æ–∏—Å–∫: @CrsSearchBot –Ω–∞—Ö–æ–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã (msk, msk5, msk50, vuun, –º–≥–≥—Ç)
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è: –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –ø–∞—Ä–æ–ª—å 123 –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–∞: –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã

## 4. –í–∑–∞–∏–º–æ—Å–≤—è–∑–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

- **BotManager** ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, FSM, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –∑–∞–ø—É—Å–∫–∞–µ—Ç event loop Telegram-–±–æ—Ç–∞.
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏** ‚Äî –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Å–≤–æ—é –≤–µ—Ç–∫—É –ª–æ–≥–∏–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–µ–Ω–µ–¥–∂–µ—Ä—ã (–ë–î, –∫—ç—à, –º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ).
- **–ú–µ–Ω–µ–¥–∂–µ—Ä—ã** ‚Äî –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–ë–î, –ø—É–ª, –∫—ç—à, –º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ), –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç–æ–º.
- **–≠–∫—Å–ø–æ—Ä—Ç** ‚Äî ExportManager —É–ø—Ä–∞–≤–ª—è–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–æ–º, –≤—ã–∑—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —à–∞–±–ª–æ–Ω—ã.
- **–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã** ‚Äî —Ñ–æ—Ä–º–∏—Ä—É—é—Ç inline –∏ reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
- **–£—Ç–∏–ª–∏—Ç—ã** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è, –ø–∞—Ä—Å–∏–Ω–≥, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
- **–ö–æ–Ω—Ñ–∏–≥–∏** ‚Äî –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JSON –∏ .env, –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ EnhancedConfig.
- **–¢–µ—Å—Ç—ã** ‚Äî –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, —É—Ç–∏–ª–∏—Ç—ã, —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã, –º–µ–Ω–µ–¥–∂–µ—Ä—ã.

## 5. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å—É

### 5.1 –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ [‚úì –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `bot/handlers/`
- –í—Å–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –≤ `enhanced/` (–∫—Ä–æ–º–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö)
- –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –°–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ (–±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ (`main.py`, `config.py`, etc.)

### 5.2 –î—É–±–ª–∏—Ä—É—é—â–∏–µ —Ñ–∞–π–ª—ã [? –¢–†–ï–ë–£–Æ–¢ –ê–ù–ê–õ–ò–ó–ê]
- `enhanced/db_pool.py` vs `enhanced/db_pool_enhanced.py`
- `enhanced/export/exporters/base.py` vs `enhanced/export/exporters/base_exporter.py`
- `enhanced/export/exporters/civil3d.py` vs `enhanced/export/exporters/civil3d_exporter.py`
- `enhanced/export/exporters/gmv20.py` vs `enhanced/export/exporters/gmv20_exporter.py`
- `enhanced/export/exporters/gmv25.py` vs `enhanced/export/exporters/gmv25_exporter.py`

### 5.3 –ù–µ—è—Å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã [? –¢–†–ï–ë–£–Æ–¢ –ê–ù–ê–õ–ò–ó–ê]
- `bot/migration.py` ‚Äî –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ—è—Å–Ω–æ
- `bot/states/` ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `enhanced/new/` ‚Äî –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `enhanced/crs_search.py` ‚Äî –¥—É–±–ª–∏—Ä—É–µ—Ç –ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–∏—Å–∫?
- `core/search/` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏?
- `config/` (–∫–æ—Ä–Ω–µ–≤–∞—è) ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `metrics/` (–∫–æ—Ä–Ω–µ–≤–∞—è) ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- `enhanced/export/handlers/` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞

### 5.4 –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ [- –ù–ï –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø]
- `bot/tests/` ‚Äî —Ç–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- `tests/` ‚Äî –æ–±—â–∏–µ —Ç–µ—Å—Ç—ã
- `bot/examples/` ‚Äî –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `spravka/` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- `backups/` ‚Äî —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

## 6. –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

- **MetricsCollector** ‚Äî —É—Å—Ç–∞—Ä–µ–ª, –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ MetricsManager. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ log_utils.py.
- **BotApplication** ‚Äî —É–¥–∞–ª—ë–Ω, –∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ BotManager.
- **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –∏ –ø—Ä–∏–º–µ—Ä—ã** ‚Äî –º–æ–≥—É—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–ª–∞—Å—Å—ã/–º–µ—Ç–æ–¥—ã, —Ç—Ä–µ–±—É—é—Ç —Ä–µ–≤–∏–∑–∏–∏.

## 7. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
1. **–ü—Ä–æ–≤–µ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤** - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∞—è –≤–µ—Ä—Å–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
2. **–û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - —É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∞—Ä—Ö–∏–≤
3. ~~–î–æ—Ä–∞–±–æ—Ç–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤~~ (—á–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ - –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞)
4. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–ª–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
5. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å PostgreSQL –≤ Docker (healthcheck, SSL, env, volumes)
6. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** –í—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ .env –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
7. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä–µ–≤–∏–∑–∏—é –∏ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—é –º–µ—Ç—Ä–∏–∫ (–∑–∞–º–µ–Ω–∏—Ç—å MetricsCollector –Ω–∞ MetricsManager)
8. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–∏—Å–∫–æ–º –∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–µ–π
9. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
10. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
11. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** –ò—Å–ø—Ä–∞–≤–∏—Ç—å ConversationHandler –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
12. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π

### –í–∞–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- –£–ª—É—á—à–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ë–î –∏ –º–µ—Ç—Ä–∏–∫ (Prometheus, Grafana)

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤
- –£–ª—É—á—à–µ–Ω–∏–µ UI/UX
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å Docker
- –£–ª—É—á—à–µ–Ω–∏–µ graceful shutdown, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞

## 8. –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

### 8.1 –§–∞–π–ª—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
1. **–î—É–±–ª–∏—Ä—É—é—â–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã** - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∞—è –≤–µ—Ä—Å–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
2. **–ü–∞–ø–∫–∞ enhanced/new/** - –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
3. **–ü–∞–ø–∫–∞ core/search/** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å
4. **–§–∞–π–ª bot/migration.py** - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
5. **–ö–æ—Ä–Ω–µ–≤—ã–µ –ø–∞–ø–∫–∏ config/ –∏ metrics/** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 8.2 –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞
1. –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø—Ä–æ–µ–∫—Ç–∞
2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
3. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É `archive/`
4. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –±–æ—Ç–∞

## 9. –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–∏—Å—Ç–µ–º—ã

- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 2025-06-09)
- –°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º Python-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö Telegram-–±–æ—Ç–æ–≤ —Å PostgreSQL.
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—å–Ω–∞—è, –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è, —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
- ‚úÖ **–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã**: –ø–æ–∏—Å–∫, —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –ª–∏—à–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã inline –ø–æ–∏—Å–∫–∞, **ConversationHandler –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏**
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω**: –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤–≤–æ–¥–∞, —Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ runtime –æ—à–∏–±–∫–∏, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π, –ø—Ä–æ–±–ª–µ–º—ã —Å async/await, –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –ø–æ–∏—Å–∫–∞, –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã –∏ –æ—Ç—Ä–∞–∂–∞—é—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.
- **–¢—Ä–µ–±—É–µ—Ç—Å—è –æ—á–∏—Å—Ç–∫–∞**: –ø—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Ñ–∞–π–ª—ã –∏ –Ω–µ—è—Å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –∞–Ω–∞–ª–∏–∑–∞.
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω—ã –Ω–∞ –æ—á–∏—Å—Ç–∫–µ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

### –¢–µ–∫—É—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞:
- üîç –ü–æ–∏—Å–∫ —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é (inline —á–µ—Ä–µ–∑ @CrsSearchBot) - **—Å —Ç–æ—á–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏**
- üìç –ü–æ–∏—Å–∫ —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º (Lat/Lon)
- üåê –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏ (—Ä—É—Å—Å–∫–∞—è/–∞–Ω–≥–ª–∏–π—Å–∫–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞)
- üéØ UTM —Ñ–æ—Ä–º–∞—Ç—ã (UTM zone 20 ‚Üí UTM +zone=20)
- üîê –ó–∞—â–∏—â–µ–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- üìä –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- üé® –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üì§ –≠–∫—Å–ø–æ—Ä—Ç PRJ-—Ñ–∞–π–ª–æ–≤ –¥–ª—è GMv20 –∏ GMv25 —Ñ–æ—Ä–º–∞—Ç–æ–≤
- üöÄ –£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
- üîß **–ù–û–í–û–ï**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ ConversationHandler –∏ inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ü–æ—Å–ª–µ–¥–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (2025-06-09):
- üîß **ConversationHandler**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- üöÄ **–£–ª—É—á—à–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è**: –ö–Ω–æ–ø–∫–∞ "üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é" —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö
- üîç **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã inline –ø–æ–∏—Å–∫–∞ –±–æ–ª—å—à–µ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- üìù **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–º–ø–æ—Ä—Ç–æ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä
- üéØ **–°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è**: ConversationHandler —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

### –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (2025-05-29):
- üéØ **–¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞**: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –ª–∏—à–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–∏ inline –ø–æ–∏—Å–∫–µ –∑–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- üöÄ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –°–æ–∫—Ä–∞—â–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ —Å—á—ë—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–º–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏
- üîç **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**: –ü–æ–∏—Å–∫ "–≥—Å–∫11–∑15" —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## 10. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–æ–¥–≥—Ä—É–∂–∞–µ–º—ã–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è, –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–≤–æ–¥–∏—Ç—å—Å—è –∫ –Ω—É–∂–Ω–æ–º—É —Ç–∏–ø—É (int, float, bool) –≤ –º–æ–º–µ–Ω—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
- –î–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –∏ –±—É–ª–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, DB_PORT, DB_MIN_CONNECTIONS, CACHE_ENABLED –∏ –¥—Ä.) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —è–≤–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –≤ –∫–æ–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, int(os.getenv('DB_PORT'))).
- –í —Å–ª—É—á–∞–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è –æ—à–∏–±–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
- –í—Å–µ dataclass-–∫–æ–Ω—Ñ–∏–≥–∏ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–æ–ª–∂–Ω—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ from_dict –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞.
- –ü–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –∫–æ–Ω—Ñ–∏–≥–æ–≤ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–∏–¥–∞ ${ENV_VAR} –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.
